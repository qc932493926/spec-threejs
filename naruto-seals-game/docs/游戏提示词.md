# Role
你是一位精通 WebGL、Computer Vision 和游戏设计的资深前端工程师。请使用 React + Three.js + MediaPipe Hands 开发一个单文件/模块化的 AR 手势射击游戏。

# Tech Stack & Constraints (CRITICAL)
1. **Framework**: React 18+ (使用 Functional Components 和 Hooks).
2. **3D Engine**: Three.js (最新版).
3. **Styling**: Tailwind CSS (通过 CDN 引入).
4. **Computer Vision**: MediaPipe Hands.
   - **必须强制锁定版本**：使用 `unpkg` 源且版本为 `0.4.1646424915` (防止 WASM 版本不匹配导致的崩溃).
   - 脚本引入顺序：camera_utils -> control_utils -> drawing_utils -> hands.
5. **No External Assets**: 所有的声音必须使用 `WebAudio API` 实时合成（Oscillators），所有的 3D 模型使用 Three.js几何体（Geometry）生成。不要请求任何图片或 MP3 文件。

# Visual & Layout Design
1. **Main Stage**: 全屏黑色背景（Black Void），作为 3D 游戏主场景。
2. **Camera Feed (PIP)**: 用户的摄像头画面显示在屏幕**右下角**的一个小方框内（Picture-in-Picture 风格），带边框和发光效果。画面需要水平翻转（Mirroring）。
3. **UI Overlay**: 左上角显示分数（Score）和连击数（Combo）。连击数要有动态跳动效果。

# Gameplay Mechanics
1. **Control Scheme (Mapping)**:
   - 将右下角小窗口内的手部坐标，映射到全屏的 3D 游戏世界坐标中（类似触摸板逻辑）。
   - **手势**：食指作为准心位置，大拇指动作作为扳机。
   - **手感优化**：
     - **绝对禁止磁力吸附（No Auto-aim）**：准心必须完全忠实于手指位置，考验玩家技巧。
     - **平滑处理**：添加轻微的低通滤波（Low-Pass Filter）去除抖动。
     - **后座力**：射击瞬间准心需要向上轻微跳动。

2. **Enemies (Targets)**:
   - **外观**：随机霓虹颜色的扁平圆柱体或飞盘。
   - **AI 行为**：同屏保持 4 个敌人。它们不向中心飞行，而是在屏幕范围内**随机游荡并反弹**（类似 DVD 屏保），速度随机。

3. **Shooting & Combo**:
   - 必须通过检测大拇指与食指关节的距离来触发射击。
   - **连击系统（Combo）**：短时间内连续击杀会增加 Combo 计数。

# "Game Juice" (Polishing Details)
为了达到顶级的街机手感，必须包含以下反馈：
1. **Particle Explosions**: 敌人被击毁时，炸裂成 10-20 个受重力影响的 3D 碎片（Shards），颜色与敌人一致。
2. **3D Floating Text**: 击杀瞬间，在 3D 空间中敌人原本的位置生成分数值（如 "+100"），并向上飘动消失。
3. **Screen Shake**: 击中敌人时，Three.js 的 Camera 需要产生瞬间的随机震动偏移。
4. **Dynamic Audio**:
   - **射击音效**：短促的合成波。
   - **命中音效**：根据当前的 Combo 数提高音调（Pitch）。Combo 越高，声音越尖锐/高昂，给予听觉奖励。

# Code Structure
请提供完整的代码结构，包含：
- `index.html`: 引入 MediaPipe 和 Tailwind。
- `types.ts`: 定义 Enemy, Particle, HandGesture 等接口。
- `services/audioService.ts`: 封装 WebAudio API。
- `services/gestureService.ts`: 纯数学计算手势逻辑。
- `components/GameScene.tsx`: 核心游戏循环（渲染 + 物理 + 粒子系统）。
- `App.tsx`: UI 布局与状态管理。